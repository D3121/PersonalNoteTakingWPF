<Window x:Class="WpfMain.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfMain"
        mc:Ignorable="d"
        Title="PersonalToDoList" MinHeight="325" MinWidth="700" Height="375" Width="755" WindowStartupLocation="CenterScreen" WindowStyle="None" AllowsTransparency="True" Background="{x:Null}" Loaded="Window_Loaded">
    <Window.Resources>
        <Style x:Key="TabItemStyle1" TargetType="{x:Type TabItem}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border x:Name="Panel" Width="150" MaxWidth="255" Height="30" Background="Transparent" CornerRadius="4,4,0,0" BorderThickness="0,0,0,0" Padding="0" Margin="0,0,0,0">
                            <Grid Background="Transparent" Name="grid">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="6"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <ContentPresenter Grid.Column="1" HorizontalAlignment="Left" VerticalAlignment="Center" Height="18" x:Name="presenter" ContentSource="Header" Margin="2,0,0,0"/>

                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Panel" Property="Background" Value="#232228" />
                            </Trigger>
                            <Trigger Property="IsSelected" Value="False">
                                <Setter TargetName="Panel" Property="Background" Value="#FF141419" />

                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <SolidColorBrush x:Key="TabItem.Selected.Background2" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="TabItem.Selected.Border2" Color="#ACACAC"/>
        <Style x:Key="modernTabs" TargetType="{x:Type TabControl}">
            <Setter Property="Padding" Value="0,0,0,0"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabControl}">
                        <Grid Height="Auto"
                             
                  SnapsToDevicePixels="true"
                  KeyboardNavigation.TabNavigation="Local">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition x:Name="ColumnDefinition0" />
                                <ColumnDefinition x:Name="ColumnDefinition1"
                                      Width="0" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition x:Name="RowDefinition0"
                                   Height="Auto" />
                                <RowDefinition x:Name="RowDefinition1"
                                   Height="30" />
                                <RowDefinition x:Name="RowDefinition2"
                                   Height="*" />
                            </Grid.RowDefinitions>
                            <Border x:Name="BorderBG" CornerRadius="7,7,7,7" Background="#FF141419" VerticalAlignment="Top" HorizontalAlignment="Center" Width="1980" Height="53" Grid.RowSpan="3" IsEnabled="False" Margin="0,30,0,0" Visibility="Visible"/>
                            <Border x:Name="BorderBGBtns" CornerRadius="7,7,7,7" Background="#FF141419" Margin="640,0,0,0" HorizontalAlignment="Right" VerticalAlignment="Top" Width="93" Height="40"/>
                            <Border x:Name="BorderBGLabel" CornerRadius="7,7,7,7" Background="#FF141419" Width="143" Height="40" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,0,0,0">
                                <Label Content="TextNote" Foreground="#FF5C6CC8" FontSize="20" FontFamily="Trebuchet MS" VerticalAlignment="Center" HorizontalAlignment="Center" HorizontalContentAlignment="Center"/>
                            </Border>
                            <StackPanel HorizontalAlignment="Stretch" VerticalAlignment="Top" Margin="0,0,95,0" Grid.Column="0"
                            Grid.Row="0"
                            Orientation="Horizontal"
                            x:Name="HeaderPanel" Width="Auto"/>

                            <Button x:Name="winCloseBtn" Content="&#xE8BB;" Margin="0,0,1,0" VerticalAlignment="Center" Height="30" Style="{DynamicResource btnStyle1}" Background="#FF141419" Foreground="#FF5F5C6C" BorderThickness="0" FontFamily="/WpfMain;component/Assets/Fonts/#Segoe Fluent Icons" Click="winCloseBtn_Click" HorizontalAlignment="Right" Width="30"/>
                            <Button x:Name="winMaxBtn" Content="&#xE922;" Margin="0,0,31,0" VerticalAlignment="Center" Height="30" Style="{DynamicResource btnStyle1}" Background="#FF141419" Foreground="#FF5F5C6C" BorderThickness="0" FontFamily="/WpfMain;component/Assets/Fonts/#Segoe Fluent Icons" Click="winMaxBtn_Click" HorizontalAlignment="Right" Width="30"/>
                            <Button x:Name="winMinBtn" Content="&#xE921;" Margin="0,0,61,0" VerticalAlignment="Center" Height="30" Style="{DynamicResource btnStyle1}" Background="#FF141419" Foreground="#FF5F5C6C" BorderThickness="0" FontFamily="/WpfMain;component/Assets/Fonts/#Segoe Fluent Icons" Click="winMinBtn_Click" HorizontalAlignment="Right" Width="30"/>
                            <Grid x:Name="GridBtns" Background="#232228" Grid.Row="1" Width="Auto" Height="Auto" VerticalAlignment="Top" HorizontalAlignment="Stretch">
                                <Button ToolTip="Open File" Click="openBtn_Click" Cursor="Hand" x:Name="openBtn" Content="&#xED25;" Height="30" Width="30" Style="{DynamicResource btnStyle2}" Background="#232228" Foreground="Gray" BorderThickness="0" FontFamily="/WpfMain;component/Assets/Fonts/#Segoe Fluent Icons" FontSize="14" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                <Button ToolTip="Save As" Click="saveBtn_Click" Cursor="Hand" x:Name="saveBtn" Content="&#xE792;" Height="30" Width="30" Margin="30,0,0,0" Style="{DynamicResource btnStyle2}" Background="#232228" Foreground="Gray" BorderThickness="0" FontFamily="/WpfMain;component/Assets/Fonts/#Segoe Fluent Icons" FontSize="14" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                <Button ToolTip="Show Note List" Click="listBtn_Click" Cursor="Hand" x:Name="listBtn" Content="&#xEA55;" VerticalAlignment="Center" Height="30" Style="{DynamicResource btnStyle2}" Background="#232228" Foreground="Gray" BorderThickness="0" FontFamily="/WpfMain;component/Assets/Fonts/#Segoe Fluent Icons" HorizontalAlignment="Right" Width="30" FontSize="14"/>
                                <Button ToolTip="To Do List"  Cursor="Hand" x:Name="ToDoList" Content="&#xE73A;" VerticalAlignment="Center" Height="30" Style="{DynamicResource btnStyle2}" Background="#232228" Foreground="Gray" BorderThickness="0" FontFamily="/WpfMain;component/Assets/Fonts/#Segoe Fluent Icons" HorizontalAlignment="Right" Width="30" FontSize="14" Margin="0,0,30,0" RenderTransformOrigin="0.5,0.5" Click="ToDoList_Click"/>
                                <Button ToolTip="Export all notes and todolist to PDF file" Cursor="Hand" x:Name="ExportToPDFBtn" Content="&#xEA90;" Height="30" Width="30" Margin="60,0,0,0" Style="{DynamicResource btnStyle2}" Background="#232228" Foreground="Gray" BorderThickness="0" FontFamily="/WpfMain;component/Assets/Fonts/#Segoe Fluent Icons" FontSize="14" HorizontalAlignment="Left" VerticalAlignment="Center" Click="ExportToPDFBtn_Click"/>
                            </Grid>
                            <Border x:Name="ContentPanel"
                                    VerticalAlignment="Top"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="0"
                        Background="{TemplateBinding Background}"
                        Grid.Column="0"
                        KeyboardNavigation.DirectionalNavigation="Contained"
                        Grid.Row="2"
                        KeyboardNavigation.TabIndex="2"
                        KeyboardNavigation.TabNavigation="Local" Margin="0,309,0,0">
                                <ContentPresenter x:Name="PART_SelectedContentHost"
                                      ContentSource="SelectedContent"
                                      Margin="0,0,0,0"
                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                            </Border>

                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="TabStripPlacement"
                         Value="Bottom">
                                <Setter Property="Grid.Row"
                            TargetName="HeaderPanel"
                            Value="1" />
                                <Setter Property="Grid.Row"
                            TargetName="ContentPanel"
                            Value="0" />
                                <Setter Property="Height"
                            TargetName="RowDefinition0"
                            Value="*" />
                                <Setter Property="Height"
                            TargetName="RowDefinition1"
                            Value="Auto" />
                                <Setter Property="Margin"
                            TargetName="HeaderPanel"
                            Value="2,0,2,2" />
                            </Trigger>
                            <Trigger Property="TabStripPlacement"
                         Value="Left">
                                <Setter Property="Orientation"
                            TargetName="HeaderPanel"
                            Value="Vertical" />
                                <Setter Property="Grid.Row"
                            TargetName="HeaderPanel"
                            Value="0" />
                                <Setter Property="Grid.Row"
                            TargetName="ContentPanel"
                            Value="0" />
                                <Setter Property="Grid.Column"
                            TargetName="HeaderPanel"
                            Value="0" />
                                <Setter Property="Grid.Column"
                            TargetName="ContentPanel"
                            Value="1" />
                                <Setter Property="Width"
                            TargetName="ColumnDefinition0"
                            Value="Auto" />
                                <Setter Property="Width"
                            TargetName="ColumnDefinition1"
                            Value="*" />
                                <Setter Property="Height"
                            TargetName="RowDefinition0"
                            Value="*" />
                                <Setter Property="Height"
                            TargetName="RowDefinition1"
                            Value="0" />
                                <Setter Property="Margin"
                            TargetName="HeaderPanel"
                            Value="2,2,0,2" />
                            </Trigger>
                            <Trigger Property="TabStripPlacement"
                         Value="Right">
                                <Setter Property="Orientation"
                            TargetName="HeaderPanel"
                            Value="Vertical" />
                                <Setter Property="Grid.Row"
                            TargetName="HeaderPanel"
                            Value="0" />
                                <Setter Property="Grid.Row"
                            TargetName="ContentPanel"
                            Value="0" />
                                <Setter Property="Grid.Column"
                            TargetName="HeaderPanel"
                            Value="1" />
                                <Setter Property="Grid.Column"
                            TargetName="ContentPanel"
                            Value="0" />
                                <Setter Property="Width"
                            TargetName="ColumnDefinition0"
                            Value="*" />
                                <Setter Property="Width"
                            TargetName="ColumnDefinition1"
                            Value="Auto" />
                                <Setter Property="Height"
                            TargetName="RowDefinition0"
                            Value="*" />
                                <Setter Property="Height"
                            TargetName="RowDefinition1"
                            Value="0" />
                                <Setter Property="Margin"
                            TargetName="HeaderPanel"
                            Value="0,2,2,2" />
                            </Trigger>
                            <Trigger Property="IsEnabled"
                         Value="false">
                                <Setter Property="Foreground"
                            Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="NoteItemStyle" TargetType="Border">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FF2D2D30"/>
                    <Setter Property="BorderBrush" Value="#FF3E3E42"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <WindowChrome.WindowChrome>
        <WindowChrome ResizeBorderThickness="5" CaptionHeight="0"/>
    </WindowChrome.WindowChrome>

    <Grid Margin="10,0,10,10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <TextBox x:Name="txtbox" Margin="0,82,-3,0" Foreground="#FFECE7FF" FocusVisualStyle="{x:Null}" BorderBrush="{x:Null}" SelectionBrush="#FF494A69" SelectionOpacity="0.5" TextWrapping="Wrap" AcceptsReturn="True" AcceptsTab="True" AutoWordSelection="True">
            <TextBox.Background>
                <SolidColorBrush Color="#FF141419" Opacity="1"/>
            </TextBox.Background>
        </TextBox>
        <TabControl MouseLeftButtonDown="mainTabCtrl_MouseDown" x:Name="mainTabCtrl" Height="Auto" Width="Auto" Background="{x:Null}" BorderBrush="{x:Null}" Style="{DynamicResource modernTabs}" Foreground="Black" Margin="0,0,-3,0"/>
        <Grid x:Name="RenameFileGrid" Background="#80000000" Panel.ZIndex="999" Margin="0,72,-3,0" Visibility="Collapsed">
            <Border Background="#2A2A2E" CornerRadius="6" Padding="20" Width="300" Height="150"
            HorizontalAlignment="Center" VerticalAlignment="Center">
                <StackPanel>
                    <TextBlock Text="Rename Note" FontWeight="Bold" FontSize="16" Foreground="White" Margin="0,0,0,10"/>
                    <TextBox x:Name="RenameTextBox" Height="30" FontSize="14" />
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                        <Button x:Name="CancelRenameButton" Content="Cancel" Click="RenameCancel_Click" Margin="0,0,10,0" Width="70"/>
                        <Button x:Name="ConfirmRenameButton" Content="Confirm" Click="RenameConfirm_Click" Width="70"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>

        <Border CornerRadius="0,0,4,0" Background="#FF1B1A1F" Margin="0,72,-3,0" Width="738" x:Name="sideBar" HorizontalAlignment="Right">
            <Grid HorizontalAlignment="Right" Width="738">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="323*"/>
                    <ColumnDefinition Width="46*"/>
                </Grid.ColumnDefinitions>
                <Label Content="Notes" VerticalAlignment="Top" VerticalContentAlignment="Center" Width="200" Foreground="White" FontFamily="/WpfMain;component/Assets/Fonts/#Poppins" FontSize="14" Margin="269,2,0,0" Background="{x:Null}" Height="31" HorizontalContentAlignment="Center" HorizontalAlignment="Left"/>
                <ScrollViewer Margin="2,33,2,2" Grid.ColumnSpan="2">
                    <ItemsControl x:Name="mainGridView">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Style="{StaticResource NoteItemStyle}" Width="160" Height="100" Margin="10"
                        Background="#2a2a2e" CornerRadius="4"
                        Cursor="Hand" MouseLeftButtonUp="NoteCard_Click" >
                                    <Border.ContextMenu>
                                        <ContextMenu>
                                            <MenuItem Header="Rename" Click="RenameNote_Click"/>
                                            <MenuItem Header="Delete" Click="DeleteNote_Click"/>
                                            <MenuItem Header="Tag Color">
                                                <MenuItem Header="Green" Click="SetTagColor_Click" Tag="Green">
                                                    <MenuItem.Icon>
                                                        <Rectangle Width="15" Height="15" Fill="Green" Margin="0,0,5,0" VerticalAlignment="Center"/>
                                                    </MenuItem.Icon>
                                                </MenuItem>

                                                <MenuItem Header="Yellow" Click="SetTagColor_Click" Tag="Yellow">
                                                    <MenuItem.Icon>
                                                        <Rectangle Width="15" Height="15" Fill="Yellow" Margin="0,0,5,0" VerticalAlignment="Center"/>
                                                    </MenuItem.Icon>
                                                </MenuItem>

                                                <MenuItem Header="Red" Click="SetTagColor_Click" Tag="Red">
                                                    <MenuItem.Icon>
                                                        <Rectangle Width="15" Height="15" Fill="Red" Margin="0,0,5,0" VerticalAlignment="Center"/>

                                                    </MenuItem.Icon>
                                                </MenuItem>

                                                <MenuItem Header="Purple" Click="SetTagColor_Click" Tag="Purple">
                                                    <MenuItem.Icon>
                                                        <Rectangle Width="15" Height="15" Fill="Purple" Margin="0,0,5,0" VerticalAlignment="Center"/>
                                                    </MenuItem.Icon>
                                                </MenuItem>
                                            </MenuItem>

                                        </ContextMenu>
                                    </Border.ContextMenu>


                                    <StackPanel Margin="8">


                                        <StackPanel Orientation="Horizontal">
                                            <Rectangle Width="10" Height="10" Margin="0,0,5,0" Fill="{Binding TagColor}" VerticalAlignment="Center" />
                                            <TextBlock Text="{Binding FileName}" FontWeight="Bold" Foreground="White" FontSize="14" />
                                        </StackPanel>

                                        <TextBlock Text="{Binding Preview}" FontSize="12" Foreground="Gray" TextWrapping="Wrap" MaxHeight="50" />
                                    </StackPanel>
                                </Border>
                            </DataTemplate>

                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
                <TextBox x:Name="searchTextBox" HorizontalAlignment="Left" Margin="608,9,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="120" KeyUp="searchTextBox_KeyUp" Background="#FF232228" Grid.ColumnSpan="2" Foreground="#FFC9C9C9" TextChanged="searchTextBox_TextChanged"/>
                <ComboBox x:Name="TagColorFilterComboBox" SelectionChanged="TagColorFilterComboBox_SelectionChanged" Margin="0,7,57,0" Background="#FF232228" HorizontalAlignment="Right" Width="83" VerticalAlignment="Top" BorderBrush="#FFABADB3" Foreground="#FF9C9C9C">
                    <ComboBoxItem Content="All" Tag="Gray" IsSelected="True"/>

                    <ComboBoxItem Tag="Green">
                        <StackPanel Orientation="Horizontal">
                            <Rectangle Width="15" Height="15" Fill="Green" Margin="0,0,5,0" VerticalAlignment="Center"/>
                            <TextBlock Text="Green" VerticalAlignment="Center"/>
                        </StackPanel>
                    </ComboBoxItem>

                    <ComboBoxItem Tag="Yellow">
                        <StackPanel Orientation="Horizontal">
                            <Rectangle Width="15" Height="15" Fill="Yellow" Margin="0,0,5,0" VerticalAlignment="Center"/>
                            <TextBlock Text="Yellow" VerticalAlignment="Center"/>
                        </StackPanel>
                    </ComboBoxItem>

                    <ComboBoxItem Tag="Red">
                        <StackPanel Orientation="Horizontal">
                            <Rectangle Width="15" Height="15" Fill="Red" Margin="0,0,5,0" VerticalAlignment="Center"/>
                            <TextBlock Text="Red" VerticalAlignment="Center"/>
                        </StackPanel>
                    </ComboBoxItem>

                    <ComboBoxItem Tag="Purple">
                        <StackPanel Orientation="Horizontal">
                            <Rectangle Width="15" Height="15" Fill="Purple" Margin="0,0,5,0" VerticalAlignment="Center"/>
                            <TextBlock Text="Purple" VerticalAlignment="Center"/>
                        </StackPanel>
                    </ComboBoxItem>
                </ComboBox>

            </Grid>
        </Border>
        <Border CornerRadius="0,0,4,0" Background="#FF1B1A1F" Margin="0,74,0,10" Width="720" x:Name="sideBar_ToDoList" HorizontalAlignment="Center" RenderTransformOrigin="0.5,1" Visibility="Hidden">
            <Border.RenderTransform>
                <TransformGroup>
                    <ScaleTransform ScaleX="1"/>
                    <SkewTransform/>
                    <RotateTransform/>
                    <TranslateTransform/>
                </TransformGroup>
            </Border.RenderTransform>
            <Grid Width="720">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <StackPanel Orientation="Horizontal" Margin="10" Grid.Row="0">
                    <TextBox x:Name="newTodoTextBox" TextWrapping="Wrap" VerticalAlignment="Top" Width="550" Height="32" Margin="0,0,10,0"/>
                    <Button x:Name="AddToDoListBtn" Content="Add" VerticalAlignment="Top" Click="AddToDoListBtn_Click" Height="32" Width="140"/>
                </StackPanel>

                <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Row="1" Margin="10,0,10,10">
                    <StackPanel x:Name="todoListPanel" />
                </ScrollViewer>
            </Grid>
        </Border>
        <Grid x:Name="AddFileGrid" Background="#80000000" Panel.ZIndex="999" Margin="0,72,-3,0" Visibility="Collapsed">
            <Border Background="#2A2A2E" CornerRadius="6" Padding="20" Width="300" Height="150"
                HorizontalAlignment="Center" VerticalAlignment="Center">
                <StackPanel>
                    <TextBlock Text="Add Note" FontWeight="Bold" FontSize="16" Foreground="White" Margin="0,0,0,10"/>
                    <TextBox x:Name="AddFileTextBox" Height="30" FontSize="14" />
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                        <Button x:Name="CancelAddNoteButton" Content="Cancel" Margin="0,0,10,0" Width="70" Click="CancelAddNoteButton_Click"/>
                        <Button x:Name="ConfirmAddNoteButton" Content="Confirm" Width="70" Click="ConfirmAddNoteButton_Click"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>




    </Grid>
</Window>
